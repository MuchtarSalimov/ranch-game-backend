import{r as i,j as e,t as f,A as h}from"./index-CeVL89ZH.js";import{u as d,a as b,b as g,L as v}from"./pokemonService-CvRBK519.js";import{m as j,u as k}from"./proxy-kapRTgci.js";const u={transition:{y:{duration:.4,yoyo:1/0,ease:"easeOut"}},animation:["0rem","-3rem","-5rem","-3rem","0rem"]};function y({pokemon:t,availableBalls:a}){const[s,n]=i.useState(!1),l=d(),r=o=>{if(o.preventDefault(),!a){f.error("out of pokeballs");return}n(!0),setTimeout(()=>n(!1),1600),l.mutate({pokedex_number:t.pokedex_number})};return e.jsx(j.div,{className:"basis-auto max-w-[45%] m-6 pointer-custom-pokeball",transition:u.transition,animate:{y:s?u.animation:[]},children:e.jsx("img",{className:"h-full max-h-[50vh]",onClick:o=>r(o),src:`/pokemon_hq/${t.uri}.png`})})}const C=()=>e.jsx("img",{className:"h-[50px] sm:h-[75px] xl:h-[120px]",title:"pokeballs regenerate over time -  max 3",src:"/pokeball.png"});function B({ballCount:t}){return e.jsx("div",{className:"absolute top-0 right-0 p-4 flex gap-4 items-start",children:t&&[...Array(t)].map((a,s)=>e.jsx(C,{},s))})}const c="relative h-[calc(100vh-80px)] bg-[url(/forest.jpg)] bg-cover brightness-90 justify-evenly flex flex-col items-center",m="relative h-[calc(100vh-80px)] bg-[url(/forest.jpg)] bg-cover brightness-90 justify-evenly flex flex-row items-end";function P(){const{user:t}=i.useContext(h),[a,s]=k(),[n,l]=i.useState(s>1.3*a?c:m),r=b();i.useEffect(()=>{l(s>1.3*a?c:m)},[a,s]);const o=g();return t.token?e.jsxs("div",{className:n,children:[o.data&&o.data.map((p,x)=>e.jsx(y,{pokemon:p,availableBalls:r.data},x)),e.jsx(B,{ballCount:r.data})]}):e.jsx(v,{})}const S=()=>e.jsx(P,{});export{S as component};
