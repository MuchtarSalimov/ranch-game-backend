import{r as c,j as t,A as x}from"./index-BbYDC8g3.js";import{c as f,L as g}from"./pokemonService-B1NSCt4A.js";import{u as j,m as u}from"./proxy-j6sJfByq.js";const w=(r,o,e)=>{let[a,n]=[r+e*Math.random()-.5*e,o+e*Math.random()-.5*e];return a<0&&(a=0),a>1&&(a=1),n<0&&(n=0),n>1&&(n=1),[a,n]};function M({src:r,pokemon:o}){const[e,a]=c.useState([Math.random(),Math.random()]),[n,i]=j(),h=.7*n,d=.62*i;c.useEffect(()=>{const s=()=>{const p=5e3+3e4*Math.random();setTimeout(()=>{Math.random()<.4&&l(.1),s()},p)};s()},[]);const l=s=>{a(w(e[0],e[1],s))},m=s=>{s.preventDefault(),l(.3)};return typeof r!="string"?t.jsx(t.Fragment,{}):t.jsx(u.div,{className:"absolute",onClick:m,animate:{x:Math.floor(h*e[0]),y:Math.floor(d*(.5+.5*e[1]))},transition:{duration:.8,bounce:.5},children:t.jsx(u.section,{initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,scale:{type:"spring",visualDuration:.5,bounce:.5},delay:Math.random()*3},children:t.jsx("img",{title:`lvl ${o.level} ${o.nickname?o.nickname:o.species}`,src:r,className:"max-w-[10vh] 2xl:max-w-[200px] shadow"})})})}function v(){const{user:r}=c.useContext(x),{status:o,data:e,error:a}=f();return r.token?t.jsx("div",{className:"h-[calc(100vh-80px)] w-full flex flex-col items-center justify-center bg-[url(/grassy_field.jpg)] bg-cover",children:t.jsx("div",{className:"h-full w-full relative",children:o==="pending"?"Loading...":o==="error"?t.jsxs("span",{children:["Error: ",a.message]}):t.jsx(t.Fragment,{children:e.length>0&&e.map((n,i)=>t.jsx(M,{pokemon:n,src:`/pokemon_hq/${n.uri}.png`},i))})})}):t.jsx(g,{})}const E=()=>t.jsx(v,{});export{E as component};
